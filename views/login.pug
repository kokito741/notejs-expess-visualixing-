doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    title Login
    style.
      body { font-family: Arial, sans-serif; }
      form { max-width: 400px; margin: auto; }
      input[type="text"], input[type="password"] { width: 100%; padding: 10px; margin: 10px 0; }
      button { width: 100%; padding: 10px; background-color: #4CAF50; color: white; border: none; }
  body
    h2 Login
    form#login-form
      label(for="email") Email:
      input(type="text" id="email" name="email")
      label(for="password") Password:
      input(type="password" id="password" name="password")
      button(type="button" onclick="login()") Login

    script.
      async function login() {
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;

        const response = await fetch('/api/users/login', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({ email, password })
        });

        if (response.ok) {
          const data = await response.json();
          localStorage.setItem('token', data.token);
          window.location.href = '/';
        } else {
          alert('Login failed');
        }
      }
